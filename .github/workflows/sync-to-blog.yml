name:” hamnar i rubriken Sync Markdown files to blog

on:
  push:
    branches: [ "main" ]
    paths:

jobs:
  sync:
:
      - "docs/**"
      - "diagrams/**"
  workflow_dispatch    runs-on: ubuntu-latest

    steps:
      - name: Checkout A)
        uses source repo (Repo: actions/checkout@v4

      - name: Checkout blog repo (Repo B)
        uses: actions/checkout@v4
        with:
          repository: dannebrob/danne token: ${{ secretsbrob.github.io
         .PAT }}
          - name: Copy images path: blog

      from diagrams/ to # Kopiera bilder från diagrams/ → blog/images
      blog/images/
       
          if [ - run: |
          mkdir -p blog/imagesd diagrams ]; then
            cp diagrams true
          fi/* blog/images/ ||

      # Kopiera och skriv om ALLA MD-filer rekursivt från docs/
      - name: Copy and rewrite MD files from docs/ to blog/_posts/
        run: |
         posts

          mkdir -p blog/_ find docs -type while read file f -name "*.md" |; do
            filename=$(basename            # underm "$file")
            
app direkt under docs/, t.ex. docs/wls/intro.md → wls
            dirname=$(basename "$(dirname cleanname="${filename "$file")")

           %.md}"

            # Snygg titel: " title="$(echo "$WLS – Intro (RepoName)"
           dirname" | tr '-' ' ' | sed 's/.*/\u&/') – $(echo "$cleanname" | tr '-' ' ' | sed 's/.*/\u&/') (${{ github.name }})"

           .event.repository på undermappen
" | tr '[:upper:] # Kategori baserat            category="$(echo "$dirname' '[:lower:]')"

            newname="$(date +%Y-%m-%.repository.named)-${{ github.event }}-$filename"

            {
              echo "---"
              echo "title: \"$ echo "categoriestitle\""
             : [\"$category\"]"
              echo "source_repo: \"${{ github.event.repository.name echo "source_path }}\""
             : \"$file\""
              echo "---"
              echo
             /$newname"
          sed 's#](/diagrams/#](/images/#g' "$file"
            } > "blog/_posts changes to blog done

      - name: Commit and push
        run: |
          cd blog
          git config user.name "GitHub Actions"
          git config user.email "actions@github.com"
          git add .
          git commit -m "Sync MD files and images from Repo A" || echo "No changes to commit"
          git push